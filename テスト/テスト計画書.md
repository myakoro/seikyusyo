# スマート受発注 mini テスト計画書

## 1. 概要

### 1.1 目的
本テスト計画書は、「スマート受発注 mini」（請求書発行システム）の実装完了後に実施するテストの方針・範囲・体制・進め方を定義し、要件定義書および詳細設計書どおりにシステムが動作していることを確認することを目的とする。

### 1.2 対象システム
- システム名: スマート受発注 mini
- 対象フォルダ: `C:\Users\takuy\Desktop\請求書発行システム`

## 2. テスト対象範囲

### 2.1 画面単位の対象範囲
以下の画面（SC-01〜SC-16）およびPDF出力機能をテスト対象とする。

| 画面ID | 画面名 | 対応モックファイル | 備考 |
|--------|--------|---------------------|------|
| SC-01 | ログイン | `mockup/SC-01_login.html` | 認証機能、エラーメッセージ表示 |
| SC-02 | パスワードリセット案内 | `mockup/SC-02_reset-password.html` | 案内表示・遷移確認のみ（入力なし） |
| SC-03 | ダッシュボード | `mockup/SC-03_dashboard.html` | 集計値表示、最新請求書リンク |
| SC-04 | 請求書一覧 | `mockup/SC-04_invoice-list.html` | 検索、絞り込み、ページネーション |
| SC-05 | 請求書作成 | `mockup/SC-05_invoice-new.html` | 明細入力、計算ロジック、登録処理 |
| SC-06 | 請求書編集 | `mockup/SC-06_invoice-edit.html` | ステータス別の編集制御 |
| SC-07 | 請求書詳細（自社） | `mockup/SC-07_invoice-detail.html` | 支払済処理、履歴表示 |
| SC-07-FL | 請求書詳細（フリーランス） | `mockup/SC-07_invoice-detail-freelancer.html` | 承認・差し戻しモーダル |
| SC-08 | フリーランス一覧 | `mockup/SC-08_freelancer-list.html` | 検索、ステータス表示 |
| SC-09 | フリーランス登録 | `mockup/SC-09_freelancer-new.html` | 必須項目、インボイス番号形式表示 |
| SC-10 | フリーランス編集 | `mockup/SC-10_freelancer-edit.html` | 同上、既存データ編集 |
| SC-11 | 商品マスタ一覧 | `mockup/SC-11_product-list.html` | 検索、一覧表示 |
| SC-12 | 商品マスタ登録 | `mockup/SC-12_product-new.html` | 税区分・源泉対象設定 |
| SC-13 | 商品マスタ編集 | `mockup/SC-13_product-edit.html` | 同上、既存データ編集 |
| SC-14 | 自社情報設定 | `mockup/SC-14_settings-company.html` | 必須項目変更（郵便番号・住所・電話・メール） |
| SC-15 | ユーザー管理 | `mockup/SC-15_settings-users.html` | 招待、ステータス変更 |
| SC-16 | マイページ（フリーランス） | `mockup/SC-16_mypage.html` | 自身の情報表示、請求書一覧、承認・差し戻し |
| PDF | 請求書PDF | `mockup/PDF_invoice-layout.html` | レイアウト・金額表示・お支払先/支払元の表示 |

### 2.2 機能単位の対象範囲
- 認証・認可（ログイン／ログアウト、フリーランスと自社ユーザーの権限制御）
- フリーランス管理（登録・編集・ステータス変更・招待フロー）
- 商品マスタ管理（登録・編集・一覧・有効/無効）
- 自社情報設定
- 請求書作成・編集・削除・一覧表示
- 請求書の計算ロジック（消費税、源泉所得税、金額（税別）表示）
- 請求書ステータス遷移（下書き／承認待ち／承認済み／支払済み／差し戻し）
- フリーランス側承認・差し戻し
- 請求書PDF出力

## 3. テスト種別

本システムでは、以下のテストを実施する。

| テスト種別 | 内容 |
|------------|------|
| 単体テスト | ビジネスロジック、API単位のテスト（主にAnthropic側で実装） |
| 結合テスト | 画面からAPIまでを通した機能の連携確認 |
| システムテスト | 本番想定構成でのE2Eテスト（画面単位・シナリオ単位） |
| 受入テスト | プロダクトオーナー視点での業務シナリオ確認 |

※ 本テスト計画書では主に **結合テスト／システムテスト** の観点を対象とし、詳細なテストケースは別途「テスト仕様書」で定義する。

## 4. テスト観点（概要）

### 4.1 機能テスト
- 要件定義書・画面設計書に記載された機能がすべて実装されていること
- 正常系（代表パターン）で期待どおりの結果になること
- 異常系・バリデーションで適切なエラーメッセージが表示されること

### 4.2 画面・UIテスト
- モックアップHTMLと実画面のレイアウト・文言が一致していること
- 用語（お支払先／支払元、適格請求書発行事業者登録番号 など）が統一されていること
- モーダル表示・非表示、ボタンの活性/非活性制御が仕様どおりであること

### 4.3 非機能テスト（簡易）
- 代表的な画面でのレスポンスが実用上問題ないこと
- 主要ブラウザ（Chrome最新版）で表示崩れがないこと

## 5. テスト環境

| 項目 | 内容 |
|------|------|
| 環境種別 | 開発環境 / ステージング環境（詳細はインフラ構成に従う） |
| ブラウザ | Google Chrome 最新版 |
| データベース | PostgreSQL（本番同等バージョン） |
| テストデータ | 要件定義書および画面設計書の例を元に、代表的なフリーランス・商品・請求書データを準備 |

## 6. 体制・役割

| 役割 | 主な作業内容 |
|------|----------------|
| プロダクトオーナー | 受入基準の確認、受入テストの実施 |
| 開発者（フロントエンド） | 画面単位のテスト、軽微な不具合修正 |
| 開発者（バックエンド） | API・ビジネスロジックのテスト、修正 |

## 7. スケジュール（案）

詳細な日付は別途プロジェクト計画に従うものとし、ここではフェーズのみ定義する。

| フェーズ | 期間（目安） | 内容 |
|----------|--------------|------|
| 単体テスト | 実装完了直後 | 各機能の単体テスト実施 |
| 結合テスト | 単体テスト完了後 | 画面-API間の結合テスト |
| システムテスト | 結合テスト完了後 | 業務シナリオベースのE2Eテスト |
| 受入テスト | システムテスト完了後 | プロダクトオーナーによる確認 |

## 8. 成果物

- 本テスト計画書（`テスト/テスト計画書.md`）
- テスト仕様書（画面・機能別の詳細テストケース）※別途作成予定
- テスト結果報告書（テスト完了後に作成予定）
